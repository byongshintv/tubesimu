# **1.TubeSimu**
TubeSimuは、今年12月にサービス終了予定のios音ゲーム、beattubeをWeb上でプレーできるようにポーティングするための小規模な個人プロジェクトです。使用言語はnodejsとHTML5です。


# **2.詳細技術スタック**
* **nodejs**/Express : バックエンド言語およびフレームワーク
***vuejs**/**html5**:フロントエンド言語やフレームワーク
* mongodb:動的スキーマ形データベース
* sass:フロントサイドCSSフレームワーク
* **typescript**/webpack:静的型付けのjavascriptプリプロセッサ言語およびモジュール化ツール
* hammer.js: モバイルジェスチャ適用ライブラリ
* konvajs:canvas api抽象画用ライブラリ
* anime.js: 動き抽象化用ライブラリ
 

# **3.実装予定**
* ユーザーエクスペリエンスに損なわない限度内でノーツのX/Y座標リミット解除
* パーフェクト·フルコンボのようなプレーを業績を詳しく記述
* BMSプレイオプションを採用したゲージ設定およびノート配置機能を追加
* ユーザー別カスタム難易度制作機能
* 採譜別/曲別タグ付け機能
* カスタム難易度·個別タグ内のすべての譜面で特定ゲージ/フルコンボ達成時別途表記
* プレイ回数確認
* 進歩化した採譜編集システム
* 2:彩宝製作者の方の許可を得て、従来beattubeで有名だった彩宝をtubesimuのフォーマットに合わせて抽出する予定です。 既存のbeattubeでプレイしていた彩譜をtubeSimuで同様にプレイできます。



# **4.開発計画**

## **4-1.TASK1-準備及び管理、環境の構築(~2019-10-30)**
* 計画樹立及び樹立された計画日本語翻訳
 *ビットチューブ原作会社テクノ社とコンタック
* プレーヤー要求事項収集および分析
* 開発環境構成
* 開発ツールおよびIDE選定
* フロントエンドフレームワークとして使用されるvuejs学習


## **4-2.TASK2-UI/UXデザイン、DBおよびREST API設計(~2019-11-10)**

* プレイ画面UI設計およびインターレクション適用
* 拡張性のあるプレーヤー·音楽·彩譜データ構造設計
* ブラウザとサーバの間の非同期通信設計

## **4-3.TASK3-ゲーム・プレイ画面実装(~2019-12-01)**
* 「iframe Player」を参照して下記の条件に合ったバックグラウンド音楽/bga環境制作
  * requestAnimationFrameで非同期的に現在の再生時間を獲得できるように
  * 映像とユーチューブプレイヤー間のコミュニケーションを断絶させる
  * クライアントのフィードバックなしで映像を自在に停止/再生可能に
  * スクリプトで映像画質の調整ができるようにする。
* beattubeと最大限似たプレイ環境を実現
  * ノート種類:一般ノート,ロングノート,連打ノート,チェーン
  * どのy座標をタッチしてもx座標がノートの位置に該当する場合、そのノートを押したものと認識
  * 1:チェーンノートの場合、チェーンノートを初めてタッチしたタッチ部位のみで当該ノートの判定/処理可否が決まる。
  * 映像を一時停止した後、再生の時に映像が少し前に引っ張られるようにする。
  * プレイ途中でオフセット調整
* beattube 従来のプレイ環境とは別に追加的な機能を実装
  * 彩譜制作者が修正可能なチェーン色
  * 1:ノートごとに異なるタッチ効果音を取り込めるように
  * 一部採保難易度でゲージシステム導入


## **4-4.TASK4-サーバやDB実装(~2020-01-19)**
* 事前に設計しておいたデータモデルの実装
* 計画した機能を十分に遂行できるREST APIの作成

## **4-5.TASK5-ポブルリスィ(~2019-12-15)**
* 反応型ウェブ開発を通じてモバイル利用者たちの要求事項に合致
* {CSSFrameWork}を積極的に活用してデザインに割り当てられる時間を最小に減らす。
* ディッシュライフ、アイパッド、guiを最大限活用
* メイン/チェボページ/個別セッティング画面制作


## **4-6.TASK6-フロント機能開発およびサーバとの通信の実現(~2019-12-29)**
* Fetch APIをベースにしたサーバーとフロント間のajax通信を実装

## **4-7.TASK7-アルファテスト(~2020-02-09)**
* 単位テスト
* 統合テスト

## **4-8.TASK8-データ移管(~2020-02-23)**
* NAS、あるいはAWS EC2サーバにNgnixウェブサーバを基盤にしたnodejs環境搭載
* dbおよび
* 最後の統合テスト

## **4-9.TASK9-ベータテスト及び安定化(~2019-03-01)**

# **5.維持費用**
サーバーは個人私費及び後援で運営される予定です。(初期費用は私費で負担する予定)後援金額は全額サーバー維持費に使われる予定で、後援金額とサーバー維持費用は領収証を添付して透明に公開されます。 プロジェクトへの寄付は自発的なものであり、サービス、物品、恩恵に対する費用ではありません。 寄付金を送った後、別途のページで後援者補償受領およびサポーターセクションに別途表記する予定であり、サポーターの個人情報は同意なしに掲示されません。


## 5.1 NAS構築市

## 5.1.1初期費用
| 内容 | 費用 |
|------|:----|
|Synology DS218+RAM 2GB|436,000ウォン|
|Western Digital WD Red 2TB NAS Hard Disk Drive|157,500ウォン|

## 5.1.1年間維持費用
|内容 | 費用 |
|------|:----|
|家庭年間累進税適用時の推定価格|60,000ウォン|
|comドメインの維持費用|10,780ウォン|

## 5.2 EC2サーバレンタル市
## 5.2.1年間維持費用
|内容 | 費用 |
|------|:----|
|Spot instanceにt2.small(CPU2個、メモリ4基が)レンタル市の推定価格|210,000ウォン|
|comドメインの維持費用|10,780ウォン|

# **6.外部リンク**
* [ビットチューブ公式ホームページ](https://beattube.net/)
* [ビットチューブサービスジョンリョムン](https://twitter.com/himajin314159/status/1182264020012654592)
* [開発用レポジタリー](develop)

# **7.お問い合わせや建議**
* [rnaos0530@gmail.com](mailto:rnaos0530@gmail.com)
