# **TubeSimu**
TubeSimu는 2019년 12월에 섭종 예정인 ios 리듬게임 beattube를 웹에서 플레이 할 수 있도록 포팅하기위한 소규모 개인 프로젝트입니다. nodejs와 HTML5으로 만들 계획입니다.

# **2. 상세기술스택**
* nodejs/Express : 서버사이드 언어 및 프레임워크
* vuejs/html5 : 프론트사이드 언어 및 프레임워크
* mongodb : 데이터베이스
* sass : 프론트사이드 프레임워크
* typescript/webpack : 베이스 언어 및 모듈화 툴
* hammer.js : 모바일 제스쳐 적용 라이브러리
* konva.js : canvas api 추상화용 라이브러리
* anime.js : 애니메이션 추상화용 라이브러리


# **3. 구현예정**
* 플레이어의 사용자경험을 해치지 않는 한도 내에서 x/y좌표 리미트 해제
* 퍼펙트/풀콤보와 같은 채보옵션 별도 표기 
* BMS 플레이 옵션을 채용한 게이지 설정 및 노트 배치 기능 추가
* 유저별 커스텀 난이도 제작 기능 
* 채보별/곡별 태그 부착기능 
* 커스텀 난이도/개별 태그 내의 모든 보면에서 특정 게이지/풀콤보달성시 별도 표기
* 플레이 횟수 확인
* 진보화된 채보편집시스템
* 채보 제작자분의 허락을 구하고 기존에 beattube에서 유명했던 채보들을 tubesimu의 포맷에 맞게 추출 할 예정입니다. 기존에 beattube에서 플레이 하던 채보를 tubeSimu에서 동일하게 플레이 가능합니다. 



# **4. 개발 계획**
## **4-1. TASK1 - 준비 및 관리, 환경 구축(~2019-10-27)**
* 계획 수립 및 수립된 계획 일어 번역
* 비트튜브 원작 회사 테크노사와 컨택
* 플레이어 요구사항 수집 및 분석
* 개발 환경 구성
* 개발 툴 및 IDE 선정
* 프론트엔드 프레임워크로 사용될 vue.js 학습


## **4-2. TASK2 - UI/UX 디자인, DB 및 REST API 설계(~2019-11-10)**

* 플레이 화면 UI 설계 및 인터렉션 적용
* 확장성 있는 플레이어/음악/채보 데이터 구조 설계
* 브라우저와 서버사이의 비동기 통신 설계

## **4-3. TASK3 - 게임 플레이 화면 구현(~2019-12-01)**
* [iframe Player API]("https://developers.google.com/youtube/iframe_api_reference?hl=ko")를 참조하여 아래의 조건에 맞는 백그라운드 음악/bga 환경 제작
  * requestAnimationFrame로 비동기적으로 현재의 재생시간을 획득 할 수 있게 하기
  * 영상과 유튜브 플레이어 사이의 커뮤니케이션을 단절시키기
  * 클라이언트의 피드백 없이 영상을 자유자재로 정지/재생할 수 있게 하기
  * 스크립트로 영상 화질의 조정이 가능 할 수 있게 하기
* beattube와 최대한 비슷한 플레이 환경 구현
  * 노트종류 : 일반 노트, 롱노트, 연타노트, 체인
  * 어느 y좌표를 터치하더라도 x좌표가 노트의 위치에 해당될 경우 그 노트를 누른 것으로 인식
  * 체인노트의 경우 체인노트를 처음 터치한 터치부위로만 해당 노트의 판정/처리 여부가 결정됨
  * 영상을 일시정지 후 다시 재생시 영상이 조금 앞으로 당겨지도록 함
  * 플레이 도중에 오프셋 조정
 
* beattube 기존 플레이 환경과 별개로 추가적인 기능 구현
  * 채보 제작자가 수정 가능한 체인 색깔
  * 노트별마다 다른 터치 효과음을 넣을 수 있도록
  * 일부 채보 난이도에서 게이지 시스템 도입


## **4-1. TASK4 - 서버 및 DB 구현(~2020-01-19)**
* 사전에 설계해놓은 데이터모델 구현
* 계획한 기능을 충분히 수행할 수 있는 REST API 작성 

## **4-1. TASK5 - 퍼블리쉬 (~2019-12-15)**
* 반응형 웹 개발을 통해 모바일 이용자들의 요구사항에 부합
* {CSSFrameWork}를 적극적으로 활용하여 디자인에 할당되는 시간을 최소로 줄임
* 디시라이프 아이패드 gui 최대한 활용하기
* 메인/채보페이지/개별세팅 화면 제작


## **4-1. TASK6 - 프론트기능 개발 및 서버와의 통신 구현 (~2019-12-29)**
* Fetch API를 기반으로 한 서버와 프론트간의 ajax 통신을 구현함

## **4-1. TASK7 - 알파 테스트(~2020-02-09)**
* 단위 테스트
* 통합 테스트

## **4-1. TASK8 - 데이터 이관(~2020-02-23)**
* NAS, 혹은 AWS EC2 서버에 Ngnix 웹서버를 기반으로 둔 nodejs 환경 탑재
* db 및 
* 마지막 통합 테스트

## **4-1. TASK9 - 베타 테스트 및 안정화(~2019-03-01)**

# **5. 유지비용**
서버는 개인 사비 및 후원으로 운영될 예정입니다. (초기 비용은 제 사비로 부담할 예정)후원금액은 전액 서버 유지비로 사용 될 예정이며 후원 금액과 서버 유지 비용은 영수증을 첨부하여 투명하게 공개됩니다. 프로젝트에 대한 기부는 자발적인 것이며, 서비스, 물품, 혜택에 대한 비용이 아닙니다. 기부금을 보낸 후 별도로 마련된 페이지에서 후원자 보상 수령 및 서포터섹션에 별도 표기 할 예정이며 서포터의 개인정보는 동의없이 게시되지 않습니다.


## 5.1 NAS 구축시

## 5.1.1 초기비용
| 내용 | 비용 |
|------|:----|
|Synology DS218+ RAM 2GB|436,000원|
|Western Digital WD Red 2TB NAS Hard Disk Drive |157,500원|

## 5.1.1 연간유지비용
| 내용 | 비용 |
|------|:----|
|가정 연간 누진세 적용시 추정가격|60,000원| 
|com 도메인 유지비용 |10,780원|

## 5.2 EC2 서버 대여시
## 5.2.1 연간유지비용
| 내용 | 비용 |
|------|:----|
|Spot instance로 t2.small(CPU2개, 메모리 4기가) 대여시 추정가격|210,000원|
|com 도메인 유지비용 |10,780원|

# **6. 외부 링크**
* [비트튜브 공식 홈페이지](https://beattube.net/ "비트튜브 공식 홈페이지")
* [비트튜브 서비스 종료문](https://twitter.com/himajin314159/status/1182264020012654592 "비트튜브 서비스 종료문")
* [개발용 레포지터리 (private)](https://github.com/byongshintv/tubesimu.develop)

# **7. 문의 및 건의**
* [rnaos0530@gmail.com](rnaos0530@gmail.com "이메일")